/*! For license information please see main.d3ba4fa3.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{213:function(t){t.exports=JSON.parse('{"v":"5.5.2","fr":60,"ip":0,"op":104,"w":84,"h":40,"nm":"Typing-Indicator","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Oval 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.643],"y":[1]},"o":{"x":[1],"y":[0]},"t":18,"s":[35],"e":[100]},{"i":{"x":[0.099],"y":[1]},"o":{"x":[0.129],"y":[0]},"t":33,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":65,"s":[35],"e":[35]},{"t":71}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[61,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":18,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.032,0.032,0.667],"y":[1,1,1]},"o":{"x":[0.217,0.217,0.333],"y":[0,0,0]},"t":33,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":65,"s":[100,100,100],"e":[100,100,100]},{"t":71}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Oval 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":9,"s":[35],"e":[98]},{"i":{"x":[0.023],"y":[1]},"o":{"x":[0.179],"y":[0]},"t":24,"s":[98],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":56,"s":[35],"e":[35]},{"t":62}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[41,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.654,0.654,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":9,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.11,0.11,0.667],"y":[1,1,1]},"o":{"x":[0.205,0.205,0.333],"y":[0,0,0]},"t":24,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":56,"s":[100,100,100],"e":[100,100,100]},{"t":62}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Oval 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[35],"e":[100]},{"i":{"x":[0.067],"y":[1]},"o":{"x":[0.125],"y":[0]},"t":15,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":47,"s":[35],"e":[35]},{"t":53}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.673,0.673,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.049,0.049,0.667],"y":[1,1,1]},"o":{"x":[0.198,0.198,0.333],"y":[0,0,0]},"t":15,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":47,"s":[100,100,100],"e":[100,100,100]},{"t":53}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"BG","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-42,-20],[42,-20],[42,20],[-42,20]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":20,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false},{"ty":"fl","c":{"a":0,"k":[0.96078401804,0.96078401804,0.96078401804,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"BG","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}')},240:function(t,e,r){},241:function(t,e,r){},265:function(t,e,r){},346:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r(51),i=r.n(o),a=(r(240),r(241),r(222)),c=r(369),s=r(370),u=r(371),l=r(395),h=r(13),f=r(17),p=r(5),d=r(394),y=r(98),b=r(365),v=r(393),g=r(366),m=r(367),x=r(392),j=r(19),O=r.n(j),w=r(385),k=r(2),E=Object(n.createContext)(),L=function(){return Object(n.useContext)(E)},_=function(t){var e=t.children,r=Object(n.useState)(),o=Object(p.a)(r,2),i=o[0],a=o[1],c=Object(n.useState)(),s=Object(p.a)(c,2),u=s[0],l=s[1],f=Object(n.useState)([]),d=Object(p.a)(f,2),y=d[0],b=d[1],v=Object(n.useState)(),g=Object(p.a)(v,2),m=g[0],x=g[1],j=Object(h.useHistory)();return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userInfo"));l(t),t||j.push("/")}),[j]),Object(k.jsx)(E.Provider,{value:{selectedChat:i,setSelectedChat:a,user:u,setUser:l,notification:y,setNotification:b,chats:m,setChats:x},children:e})};function S(){S=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new F(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(N([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var C=function(){var t=Object(n.useState)(!1),e=Object(p.a)(t,2),r=e[0],o=e[1],i=Object(w.a)(),a=Object(n.useState)(""),c=Object(p.a)(a,2),s=c[0],u=c[1],l=Object(n.useState)(""),j=Object(p.a)(l,2),E=j[0],_=j[1],C=Object(n.useState)(!1),F=Object(p.a)(C,2),N=F[0],G=F[1],P=Object(h.useHistory)(),A=L().setUser,I=function(){var t=Object(f.a)(S().mark((function t(){var e,r,n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G(!0),s&&E){t.next=5;break}return i({title:"Please Fill all the Fields",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),G(!1),t.abrupt("return");case 5:return t.prev=5,e={headers:{"Content-type":"application/json"}},t.next=9,O.a.post("/api/user/login",{email:s,password:E},e);case 9:r=t.sent,n=r.data,i({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),A(n),localStorage.setItem("userInfo",JSON.stringify(n)),G(!1),P.push("/chats"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),i({title:"Error Occurred!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),G(!1);case 22:case"end":return t.stop()}}),t,null,[[5,18]])})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)(x.b,{spacing:"1rem",align:"center",children:[Object(k.jsxs)(y.a,{id:"email",isRequired:!0,children:[Object(k.jsx)(b.a,{children:"Email Address"}),Object(k.jsx)(v.a,{value:s,type:"email",placeholder:"Enter Your Email Address",onChange:function(t){return u(t.target.value)},size:"md",variant:"filled"})]}),Object(k.jsxs)(y.a,{id:"password",isRequired:!0,children:[Object(k.jsx)(b.a,{children:"Password"}),Object(k.jsxs)(g.a,{size:"md",children:[Object(k.jsx)(v.a,{value:E,onChange:function(t){return _(t.target.value)},type:r?"text":"password",placeholder:"Enter password",size:"md",variant:"filled"}),Object(k.jsx)(m.a,{width:"4.5rem",children:Object(k.jsx)(d.a,{h:"1.75rem",size:"sm",onClick:function(){return o(!r)},colorScheme:"purple",variant:"solid",children:r?"Hide":"Show"})})]})]}),Object(k.jsx)(d.a,{width:"100%",colorScheme:"purple",onClick:I,isLoading:N,children:"Login"})]})};function F(){F=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(N([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var N=function(){var t=Object(n.useState)(!1),e=Object(p.a)(t,2),r=e[0],o=e[1],i=function(){return o(!r)},a=Object(w.a)(),c=Object(h.useHistory)(),s=Object(n.useState)(""),u=Object(p.a)(s,2),l=u[0],j=u[1],E=Object(n.useState)(""),L=Object(p.a)(E,2),_=L[0],S=L[1],C=Object(n.useState)(""),N=Object(p.a)(C,2),G=N[0],P=N[1],A=Object(n.useState)(""),I=Object(p.a)(A,2),T=I[0],z=I[1],R=Object(n.useState)(""),B=Object(p.a)(R,2),D=B[0],W=B[1],Y=Object(n.useState)(!1),M=Object(p.a)(Y,2),U=M[0],V=M[1],J=function(){var t=Object(f.a)(F().mark((function t(){var e,r,n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(V(!0),l&&_&&T&&G){t.next=5;break}return a({title:"Please Fill all the Fields",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),V(!1),t.abrupt("return");case 5:if(T===G){t.next=8;break}return a({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 8:return console.log(l,_,T,D),t.prev=9,e={headers:{"Content-type":"application/json"}},t.next=13,O.a.post("/api/user",{name:l,email:_,password:T,pic:D},e);case 13:r=t.sent,n=r.data,console.log(n),a({title:"Registration Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(n)),V(!1),c.push("/chats"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(9),a({title:"Error Occurred!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),V(!1);case 26:case"end":return t.stop()}}),t,null,[[9,22]])})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)(x.b,{spacing:"1rem",align:"center",children:[Object(k.jsxs)(y.a,{id:"first-name",isRequired:!0,children:[Object(k.jsx)(b.a,{children:"Name"}),Object(k.jsx)(v.a,{placeholder:"Enter Your Name",onChange:function(t){return j(t.target.value)},variant:"filled",borderRadius:"lg",py:"1rem",px:"1rem",fontSize:"1rem",bg:"gray.200",color:"black"})]}),Object(k.jsxs)(y.a,{id:"email",isRequired:!0,children:[Object(k.jsx)(b.a,{children:"Email Address"}),Object(k.jsx)(v.a,{type:"email",placeholder:"Enter Your Email Address",onChange:function(t){return S(t.target.value)},variant:"filled",borderRadius:"lg",py:"1rem",px:"1rem",fontSize:"1rem",bg:"gray.200",color:"black"})]}),Object(k.jsxs)(y.a,{id:"password",isRequired:!0,children:[Object(k.jsx)(b.a,{children:"Password"}),Object(k.jsxs)(g.a,{size:"md",children:[Object(k.jsx)(v.a,{type:r?"text":"password",placeholder:"Enter Password",onChange:function(t){return z(t.target.value)},variant:"filled",borderRadius:"lg",py:"1rem",px:"1rem",fontSize:"1rem",bg:"gray.200",color:"black"}),Object(k.jsx)(m.a,{width:"4.5rem",children:Object(k.jsx)(d.a,{h:"1.75rem",size:"sm",onClick:i,colorScheme:"purple",variant:"solid",bg:"purple.400",children:r?"Hide":"Show"})})]})]}),Object(k.jsxs)(y.a,{id:"password",isRequired:!0,children:[Object(k.jsx)(b.a,{children:"Confirm Password"}),Object(k.jsxs)(g.a,{size:"md",children:[Object(k.jsx)(v.a,{type:r?"text":"password",placeholder:"Confirm Password",onChange:function(t){return P(t.target.value)},variant:"filled",borderRadius:"lg",py:"1rem",px:"1rem",fontSize:"1rem",bg:"gray.200",color:"black"}),Object(k.jsx)(m.a,{width:"4.5rem",children:Object(k.jsx)(d.a,{h:"1.75rem",size:"sm",onClick:i,colorScheme:"purple",variant:"solid",bg:"purple.400",children:r?"Hide":"Show"})})]})]}),Object(k.jsxs)(y.a,{id:"pic",children:[Object(k.jsx)(b.a,{children:"Upload your Picture"}),Object(k.jsx)(v.a,{type:"file",p:"1rem",accept:"image/*",onChange:function(t){return function(t){if(V(!0),!t)return a({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void V(!1);if(console.log(t),"image/jpeg"!==t.type&&"image/png"!==t.type)return a({title:"Please Select a Valid Image (JPEG or PNG)!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void V(!1);var e=new FormData;e.append("file",t),e.append("upload_preset","chatapp"),e.append("cloud_name","dkymfer5f"),fetch("https://api.cloudinary.com/v1_1/dkymfer5f/image/upload",{method:"post",body:e}).then((function(t){return t.json()})).then((function(t){W(t.url.toString()),console.log(t.url.toString()),V(!1)})).catch((function(t){console.log(t),V(!1)}))}(t.target.files[0])},padding:"0.1rem",bg:"gray.200",color:"black"})]}),Object(k.jsx)(d.a,{colorScheme:"purple",width:"100%",onClick:J,isLoading:U,variant:"solid",color:"white",borderRadius:"lg",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",py:"1rem",bg:"purple.400",children:"Sign Up"})]})};var G=function(){var t=Object(h.useHistory)(),e=Object(a.c)().colorMode;return Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("userInfo"))&&t.push("/chats")}),[t]),Object(k.jsxs)(c.a,{maxW:"xl",centerContent:!0,children:[Object(k.jsx)(s.a,{d:"flex",justifyContent:"center",p:3,bgGradient:"light"===e?"linear(to-r, #4e0eff, #997af0)":"linear(to-r, #1A202C, #2D3748)",w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px",boxShadow:"lg",children:Object(k.jsx)(u.a,{fontSize:"4xl",fontFamily:"Work Sans",color:"white",children:"Talky"})}),Object(k.jsx)(s.a,{bg:"light"===e?"white":"gray.800",w:"100%",p:4,borderRadius:"lg",borderWidth:"1px",boxShadow:"md",children:Object(k.jsxs)(l.e,{isFitted:!0,variant:"soft-rounded",children:[Object(k.jsxs)(l.b,{mb:"1em",justifyContent:"center",bg:"white",borderRadius:"lg",borderWidth:"1px",boxShadow:"md",children:[Object(k.jsx)(l.a,{_selected:{color:"white",bg:"light"===e?"rgba(126, 87, 194, 0.7)":"rgba(74, 144, 226, 0.7)"},children:"Login"}),Object(k.jsx)(l.a,{_selected:{color:"white",bg:"light"===e?"rgba(126, 87, 194, 0.7)":"rgba(74, 144, 226, 0.7)"},children:"Sign Up"})]}),Object(k.jsxs)(l.d,{children:[Object(k.jsx)(l.c,{children:Object(k.jsx)(C,{})}),Object(k.jsx)(l.c,{children:Object(k.jsx)(N,{})})]})]})})]})},P=r(11),A=r(379),I=r(214),T=r(216),z=r(215),R=(r(265),function(t,e,r,n){return r<t.length-1&&t[r+1].sender._id===e.sender._id&&t[r].sender._id!==n?33:r<t.length-1&&t[r+1].sender._id!==e.sender._id&&t[r].sender._id!==n||r===t.length-1&&t[r].sender._id!==n?0:"auto"}),B=function(t,e,r,n){return r<t.length-1&&(t[r+1].sender._id!==e.sender._id||void 0===t[r+1].sender._id)&&t[r].sender._id!==n},D=function(t,e,r){return e===t.length-1&&t[t.length-1].sender._id!==r&&t[t.length-1].sender._id},W=function(t,e,r){return r>0&&t[r-1].sender._id===e.sender._id},Y=function(t,e){var r;return(null===(r=e[0])||void 0===r?void 0:r._id)===(null===t||void 0===t?void 0:t._id)?e[1].name:e[0].name},M=function(t,e){var r;return(null===(r=e[0])||void 0===r?void 0:r._id)===(null===t||void 0===t?void 0:t._id)?e[1].pic:e[0].pic},U=r(375),V=r(374),J=r(50),$=r(376),H=function(t){var e=t.user,r=t.children,n=Object(V.a)(),o=n.isOpen,i=n.onOpen,a=n.onClose;return Object(k.jsxs)(k.Fragment,{children:[r?Object(k.jsx)("span",{onClick:i,children:r}):Object(k.jsx)(U.a,{mr:"1%",size:"md",cursor:"pointer",name:e.name,src:e.pic,onClick:i}),Object(k.jsxs)(J.a,{size:"lg",onClose:a,isOpen:o,isCentered:!0,children:[Object(k.jsx)(J.h,{}),Object(k.jsxs)(J.d,{h:"410px",children:[Object(k.jsx)(J.g,{fontSize:"40px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:e.name}),Object(k.jsx)(J.c,{}),Object(k.jsxs)(J.b,{d:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between",children:[Object(k.jsx)($.a,{borderRadius:"full",boxSize:"150px",src:e.pic,alt:e.name}),Object(k.jsxs)(u.a,{fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",children:["Email: ",e.email]})]}),Object(k.jsx)(J.f,{children:Object(k.jsx)(d.a,{onClick:a,children:"Close"})})]})]})]})},q=r(389),K=r(211),Z=function(t){var e=t.messages,r=L().user;return Object(k.jsx)("div",{style:{maxHeight:"100%",overflowY:"auto"},children:Object(k.jsx)(K.a,{children:e&&e.map((function(t,n){return Object(k.jsxs)("div",{style:{display:"flex"},children:[(B(e,t,n,r._id)||D(e,n,r._id))&&Object(k.jsx)(q.a,{label:t.sender.name,placement:"bottom-start",hasArrow:!0,children:Object(k.jsx)(U.a,{mt:"7px",mr:1,size:"md",cursor:"pointer",name:t.sender.name,src:t.sender.pic})}),Object(k.jsx)("span",{style:{backgroundColor:"".concat(t.sender._id===r._id?"#e6e6ff":"#9F7AEA"),fontSize:"20px",marginLeft:R(e,t,n,r._id),marginTop:W(e,t,n,r._id)?3:10,borderRadius:"20px",padding:"5px 15px",maxWidth:"75%"},children:t.content})]},t._id)}))})})},Q=r(212),X=r.n(Q),tt=r(213),et=r(217),rt=r(121),nt=r.n(rt),ot=r(368),it=r(378),at=r(377),ct=function(t){var e=t.user,r=t.handleFunction,n=t.admin;return Object(k.jsxs)(at.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:r,children:[e.name,n===e._id&&Object(k.jsx)("span",{children:" (Admin)"}),Object(k.jsx)(it.a,{pl:1})]})},st=function(t){var e=t.user,r=t.handleFunction;return Object(k.jsxs)(s.a,{onClick:r,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#7E57C2",color:"white"},w:"100%",d:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[Object(k.jsx)(U.a,{mr:2,size:"sm",cursor:"pointer",name:e.name,src:e.pic}),Object(k.jsxs)(s.a,{children:[Object(k.jsx)(u.a,{children:e.name}),Object(k.jsxs)(u.a,{fontSize:"xs",children:[Object(k.jsx)("b",{children:"Email : "}),e.email]})]})]})};function ut(){ut=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(F([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var lt=function(t){var e=t.fetchMessages,r=t.fetchAgain,o=t.setFetchAgain,i=Object(V.a)(),a=i.isOpen,c=i.onOpen,u=i.onClose,l=Object(n.useState)(),h=Object(p.a)(l,2),b=h[0],g=h[1],m=Object(n.useState)(""),x=Object(p.a)(m,2),j=x[0],E=x[1],_=Object(n.useState)([]),S=Object(p.a)(_,2),C=S[0],F=S[1],N=Object(n.useState)(!1),G=Object(p.a)(N,2),P=G[0],A=G[1],I=Object(n.useState)(!1),T=Object(p.a)(I,2),z=T[0],R=T[1],B=Object(w.a)(),D=L(),W=D.selectedChat,Y=D.setSelectedChat,M=D.user,$=function(){var t=Object(f.a)(ut().mark((function t(e){var r,n,o;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E(e),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,A(!0),r={headers:{Authorization:"Bearer ".concat(M.token)}},t.next=8,O.a.get("/api/user?search=".concat(j),r);case 8:n=t.sent,o=n.data,console.log(o),A(!1),F(o),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),B({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),A(!1);case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(f.a)(ut().mark((function t(){var e,n,i;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,R(!0),e={headers:{Authorization:"Bearer ".concat(M.token)}},t.next=7,O.a.put("/api/chat/rename",{chatId:W._id,chatName:b},e);case 7:n=t.sent,i=n.data,console.log(i._id),Y(i),o(!r),R(!1),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),B({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),R(!1);case 19:g("");case 20:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(f.a)(ut().mark((function t(e){var n,i,a;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!W.users.find((function(t){return t._id===e._id}))){t.next=3;break}return B({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 3:if(W.groupAdmin._id===M._id){t.next=6;break}return B({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 6:return t.prev=6,A(!0),n={headers:{Authorization:"Bearer ".concat(M.token)}},t.next=11,O.a.put("/api/chat/groupadd",{chatId:W._id,userId:e._id},n);case 11:i=t.sent,a=i.data,Y(a),o(!r),A(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),B({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),A(!1);case 22:g("");case 23:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(f.a)(ut().mark((function t(n){var i,a,c;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(W.groupAdmin._id===M._id||n._id===M._id){t.next=3;break}return B({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 3:return t.prev=3,A(!0),i={headers:{Authorization:"Bearer ".concat(M.token)}},t.next=8,O.a.put("/api/chat/groupremove",{chatId:W._id,userId:n._id},i);case 8:a=t.sent,c=a.data,n._id===M._id?Y():Y(c),o(!r),e(),A(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(3),B({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),A(!1);case 20:g("");case 21:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U.a,{mr:"1%",size:"md",cursor:"pointer",name:W.chatName,onClick:c}),Object(k.jsxs)(J.a,{onClose:u,isOpen:a,isCentered:!0,children:[Object(k.jsx)(J.h,{}),Object(k.jsxs)(J.d,{children:[Object(k.jsx)(J.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:W.chatName}),Object(k.jsx)(J.c,{}),Object(k.jsxs)(J.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(k.jsx)(s.a,{w:"100%",d:"flex",flexWrap:"wrap",pb:3,children:W.users.map((function(t){return Object(k.jsx)(ct,{user:t,admin:W.groupAdmin,handleFunction:function(){return K(t)}},t._id)}))}),Object(k.jsxs)(y.a,{d:"flex",children:[Object(k.jsx)(v.a,{placeholder:"Chat Name",mb:3,value:b,onChange:function(t){return g(t.target.value)}}),Object(k.jsx)(d.a,{variant:"solid",colorScheme:"teal",ml:1,isLoading:z,onClick:H,children:"Update"})]}),Object(k.jsx)(y.a,{children:Object(k.jsx)(v.a,{placeholder:"Add User to group",mb:1,onChange:function(t){return $(t.target.value)}})}),P?Object(k.jsx)(ot.a,{size:"lg"}):null===C||void 0===C?void 0:C.map((function(t){return Object(k.jsx)(st,{user:t,handleFunction:function(){return q(t)}},t._id)}))]}),Object(k.jsx)(J.f,{children:Object(k.jsx)(d.a,{onClick:function(){return K(M)},colorScheme:"red",children:"Leave Group"})})]})]})]})};function ht(){ht=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(F([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var ft,pt,dt=function(t){var e=t.fetchAgain,r=t.setFetchAgain,o=Object(n.useState)([]),i=Object(p.a)(o,2),a=i[0],c=i[1],l=Object(n.useState)(!1),d=Object(p.a)(l,2),b=d[0],g=d[1],m=Object(n.useState)(""),x=Object(p.a)(m,2),j=x[0],E=x[1],_=Object(n.useState)(!1),S=Object(p.a)(_,2),C=S[0],F=S[1],N=Object(n.useState)(null),G=Object(p.a)(N,2),R=(G[0],G[1],Object(n.useState)(!1)),B=Object(p.a)(R,2),D=B[0],W=B[1],M=Object(n.useState)(!1),U=Object(p.a)(M,2),V=U[0],J=U[1],$=Object(w.a)(),q=Object(h.useHistory)(),K={loop:!0,autoplay:!0,animationData:tt,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},Q=L(),rt=Q.selectedChat,ot=Q.setSelectedChat,it=Q.user,at=Q.notification,ct=Q.setNotification,st=Object(n.useCallback)((function(){var t={chatId:rt._id,userId:it._id,username:it.name,chat:rt};q.push({pathname:"/room",state:t})}),[q,rt,it]),ut=Object(n.useCallback)((function(){var t={chat:rt,chatId:rt._id,userId:it._id,username:it.name,voice:!0};q.push({pathname:"/room",state:t})}),[q,rt,it]),dt=function(){var t=Object(f.a)(ht().mark((function t(){var e,r,n;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(rt){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e={headers:{Authorization:"Bearer ".concat(it.token)}},g(!0),t.next=7,O.a.get("/api/message/".concat(rt._id),e);case 7:r=t.sent,n=r.data,c(n),g(!1),ft.emit("join chat",rt._id),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),$({title:"Error Occured!",description:"Failed to Load the Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}(),yt=function(){var t=Object(f.a)(ht().mark((function t(){var e,r,n;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j){t.next=15;break}return ft.emit("stop typing",rt._id),t.prev=2,e={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(it.token)}},E(""),t.next=7,O.a.post("/api/message",{content:j,chatId:rt},e);case 7:r=t.sent,n=r.data,ft.emit("new message",n),c([].concat(Object(P.a)(a),[n])),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(2);case 15:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),bt=function(){var t=Object(f.a)(ht().mark((function t(e){var r,n,o;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==e.key||!j){t.next=16;break}return ft.emit("stop typing",rt._id),t.prev=2,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(it.token)}},E(""),t.next=7,O.a.post("/api/message",{content:j,chatId:rt},r);case 7:n=t.sent,o=n.data,ft.emit("new message",o),c([].concat(Object(P.a)(a),[o])),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),$({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){(ft=nt()("http://localhost:5000")).emit("setup",it),ft.on("connected",(function(){return F(!0)})),ft.on("typing",(function(){return J(!0)})),ft.on("stop typing",(function(){return J(!1)}))}),[]),Object(n.useEffect)((function(){dt(),pt=rt}),[rt]),Object(n.useEffect)((function(){ft.on("message recieved",(function(t){pt&&pt._id===t.chat._id?c([].concat(Object(P.a)(a),[t])):at.includes(t)||(ct([t].concat(Object(P.a)(at))),r(!e))}))}));var vt,gt;return Object(k.jsx)(k.Fragment,{children:rt?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(A.a,{fontSize:{base:"28px",md:"30px"},w:"100%",h:"11%",fontFamily:"Work sans",flexDir:"row",justifyContent:{base:"start"},alignItems:"center",gap:"0.5rem",overflowY:"auto",bg:"purple.400",roundedTop:"lg",fontWeight:"bold",textTransform:"uppercase",paddingTop:"10px",paddingBottom:"10px",children:[Object(k.jsxs)(s.a,{marginRight:"10px",cursor:"pointer",onClick:function(){return ot("")},children:[" ",Object(k.jsx)(I.a,{})]}),a&&(rt.isGroupChat?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(lt,{fetchMessages:dt,fetchAgain:e,setFetchAgain:r}),rt.chatName.toUpperCase()]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(H,{user:(vt=it,gt=rt.users,gt[0]._id===vt._id?gt[1]:gt[0])}),Y(it,rt.users)]})),Object(k.jsxs)(s.a,{marginRight:"10px",cursor:"pointer",ml:10,onClick:st,children:[" ",Object(k.jsx)(z.a,{})]}),Object(k.jsxs)(s.a,{marginRight:"10px",cursor:"pointer",ml:10,onClick:ut,children:[" ",Object(k.jsx)(T.a,{})]})]}),Object(k.jsxs)(s.a,{d:"flex",flexDir:"column",justifyContent:"flex-end",p:3,w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",rounded:"lg",children:[b?Object(k.jsx)(A.a,{alignItems:"center",justifyContent:"center",h:"100%",children:Object(k.jsx)("img",{src:"/loader.gif",width:"20%",alt:"Loader GIF"})}):Object(k.jsx)("div",{className:"messages",children:Object(k.jsx)(Z,{messages:a})}),Object(k.jsxs)(y.a,{onKeyDown:bt,id:"first-name",isRequired:!0,mt:3,children:[V?Object(k.jsx)("div",{children:Object(k.jsx)(X.a,{options:K,width:70,style:{marginBottom:15,marginLeft:0}})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsxs)(A.a,{dir:"row",children:[Object(k.jsx)(v.a,{variant:"filled",h:"44px",bg:"purple.100",fontSize:"17px",placeholder:"Enter a message..",value:j,borderRadius:"lg",borderColor:"gray.300",borderWidth:"1px",onChange:function(t){if(E(t.target.value),C){D||(W(!0),ft.emit("typing",rt._id));var e=(new Date).getTime();setTimeout((function(){(new Date).getTime()-e>=3e3&&D&&(ft.emit("stop typing",rt._id),W(!1))}),3e3)}},_focus:{borderColor:"purple.400",boxShadow:"none"},_hover:{borderColor:"gray.400"}}),Object(k.jsx)(s.a,{bg:"#9F7AEA",display:"inline-block",padding:"11px",cursor:"pointer",borderRadius:"md",onClick:yt,ml:1,children:Object(k.jsx)(et.a,{})})]})]})]})]}):Object(k.jsxs)(s.a,{d:"flex",alignItems:"center",bg:"#f2f2f2",justifyContent:"center",h:"100%",children:[Object(k.jsx)("img",{src:"/robot.gif",alt:"No chat selected GIF"}),Object(k.jsx)(u.a,{fontSize:"lg",pb:3,fontFamily:"Work Sans",children:"Click on a user to start chatting"})]})})},yt=function(t){var e=t.fetchAgain,r=t.setFetchAgain,n=L().selectedChat;return Object(k.jsx)(s.a,{d:{base:n?"flex":"none",md:"flex"},alignItems:"stretch",flexDir:"column",p:0,style:{backgroundImage:'url("/chatbg.jpg")',backgroundSize:"contain"},bg:"#7E57C2",w:{base:"100%",md:"68%"},children:Object(k.jsx)(dt,{fetchAgain:e,setFetchAgain:r})})},bt=r(7),vt=r(153),gt=r(380),mt=r(387),xt=function(){return Object(k.jsxs)(x.a,{children:[Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"}),Object(k.jsx)(mt.a,{height:"45px"})]})};function jt(){jt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(F([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var Ot=function(t){var e=t.children,r=Object(V.a)(),o=r.isOpen,i=r.onOpen,a=r.onClose,c=Object(n.useState)(),u=Object(p.a)(c,2),l=u[0],h=u[1],b=Object(n.useState)([]),g=Object(p.a)(b,2),m=g[0],x=g[1],j=Object(n.useState)(""),E=Object(p.a)(j,2),_=E[0],S=E[1],C=Object(n.useState)([]),F=Object(p.a)(C,2),N=F[0],G=F[1],A=Object(n.useState)(!1),I=Object(p.a)(A,2),T=I[0],z=I[1],R=Object(w.a)(),B=L(),D=B.user,W=B.chats,Y=B.setChats,M=function(){var t=Object(f.a)(jt().mark((function t(e){var r,n,o;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S(e),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,z(!0),r={headers:{Authorization:"Bearer ".concat(D.token)}},t.next=8,O.a.get("/api/user?search=".concat(_),r);case 8:n=t.sent,o=n.data,console.log(o),z(!1),G(o),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),R({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(f.a)(jt().mark((function t(){var e,r,n;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l&&m){t.next=3;break}return R({title:"Please fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"top"}),t.abrupt("return");case 3:return t.prev=3,e={headers:{Authorization:"Bearer ".concat(D.token)}},t.next=7,O.a.post("/api/chat/group",{name:l,users:JSON.stringify(m.map((function(t){return t._id})))},e);case 7:r=t.sent,n=r.data,Y([n].concat(Object(P.a)(W))),a(),R({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),R({title:"Failed to Create the Chat!",description:t.t0.response.data,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{onClick:i,children:e}),Object(k.jsxs)(J.a,{onClose:a,isOpen:o,isCentered:!0,children:[Object(k.jsx)(J.h,{}),Object(k.jsxs)(J.d,{children:[Object(k.jsx)(J.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:"Create Group Chat"}),Object(k.jsx)(J.c,{}),Object(k.jsxs)(J.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(k.jsx)(y.a,{children:Object(k.jsx)(v.a,{placeholder:"Chat Name",mb:3,onChange:function(t){return h(t.target.value)}})}),Object(k.jsx)(y.a,{children:Object(k.jsx)(v.a,{placeholder:"Add Users eg: John, Piyush, Jane",mb:1,onChange:function(t){return M(t.target.value)}})}),Object(k.jsx)(s.a,{w:"100%",d:"flex",flexWrap:"wrap",children:m.map((function(t){return Object(k.jsx)(ct,{user:t,handleFunction:function(){return e=t,void x(m.filter((function(t){return t._id!==e._id})));var e}},t._id)}))}),T?Object(k.jsx)("div",{children:"Loading..."}):null===N||void 0===N?void 0:N.slice(0,4).map((function(t){return Object(k.jsx)(st,{user:t,handleFunction:function(){return e=t,void(m.includes(e)?R({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"}):x([].concat(Object(P.a)(m),[e])));var e}},t._id)}))]}),Object(k.jsx)(J.f,{children:Object(k.jsx)(d.a,{onClick:U,colorScheme:"blue",children:"Create Chat"})})]})]})]})},wt=nt()("http://localhost:5000");function kt(){kt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(F([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var Et=function(t){var e=t.fetchAgain,r=Object(n.useState)(),o=Object(p.a)(r,2),i=o[0],a=o[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),h=l[0],y=l[1],b=L(),v=b.selectedChat,g=b.setSelectedChat,m=b.user,j=b.chats,E=b.setChats,_=Object(w.a)(),S=function(){var t=Object(f.a)(kt().mark((function t(){var e,r,n;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={headers:{Authorization:"Bearer ".concat(m.token)}},t.next=4,O.a.get("/api/chat",e);case 4:r=t.sent,n=r.data,E(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),_({title:"Error Occurred!",description:"Failed to Load the chats",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return a(JSON.parse(localStorage.getItem("userInfo"))),S(),wt.connect(),wt.on("user_status_change",(function(t){var e=t.userId,r=t.status;y((function(t){return Object(vt.a)(Object(vt.a)({},t),{},Object(bt.a)({},e,r))}))})),function(){wt.disconnect()}}),[e]),Object(k.jsxs)(s.a,{d:{base:v?"none":"flex",md:"flex"},flexDir:"column",alignItems:"stretch",p:0,bg:"#f2f2f2",w:{base:"100%",md:"31%"},borderRightWidth:"1px",rounded:"lg",children:[Object(k.jsxs)(s.a,{pb:2,px:2,py:1,mb:1,fontSize:"20px",fontFamily:"Work Sans",d:"flex",w:"100%",h:"11%",justifyContent:"space-between",alignItems:"center",borderBottomWidth:"1px",bg:"#7E57C2",color:"white",roundedTop:"lg",children:["My Chats",Object(k.jsx)(Ot,{children:Object(k.jsx)(d.a,{fontSize:"14px",rightIcon:Object(k.jsx)(gt.a,{}),variant:"link",color:"white",_hover:{textDecor:"none"},children:"New Group Chat"})})]}),Object(k.jsx)(s.a,{d:"flex",flexDir:"column",p:0,bg:"white",w:"100%",h:"100%",overflowY:"scroll",children:j?Object(k.jsx)(x.a,{children:j.map((function(t){return Object(k.jsxs)(A.a,{onClick:function(){return g(t)},cursor:"pointer",bg:v===t?"#e6e6ff":"white",px:"1rem",py:"0.3rem",padding:"12px",borderBottomWidth:"2px",_hover:{bg:"#e6e6ff"},rounded:"lg",children:[t.isGroupChat?Object(k.jsx)(U.a,{mr:"1%",size:"lg",cursor:"pointer",name:null===t||void 0===t?void 0:t.chatName}):Object(k.jsx)(U.a,{mr:"1%",size:"lg",cursor:"pointer",name:m.name,src:M(i,t.users)}),t.latestMessage&&Object(k.jsxs)(A.a,{flexDir:"row",justifyContent:"center",noOfLines:1,children:[Object(k.jsx)(u.a,{fontSize:"22px",fontWeight:"bold",textTransform:"uppercase",children:t.isGroupChat?t.chatName:Y(i,t.users)}),2===t.users.length&&!t.isGroupChat&&Object(k.jsx)(s.a,{w:4,h:4,borderRadius:"full",bg:"online"===h[t.users[0]._id]?"green.400":"gray.400",ml:2,mr:1}),Object(k.jsxs)(u.a,{fontSize:"19px",color:"#7E57C2",noOfLines:1,children:[Object(k.jsxs)("b",{children:[t.latestMessage.sender.name,":"]})," ",t.latestMessage.content.length>50?t.latestMessage.content.substring(0,51)+"...":t.latestMessage.content]})]})]},t._id)}))}):Object(k.jsx)(xt,{})})]})},Lt=r(388),_t=r(397),St=r(381),Ct=r(382),Ft=r(122),Nt=r.n(Ft);function Gt(){Gt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(F([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var Pt=function(){var t=Object(n.useState)(""),e=Object(p.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)([]),a=Object(p.a)(i,2),c=a[0],l=a[1],y=Object(n.useState)(!1),b=Object(p.a)(y,2),g=b[0],m=b[1],x=Object(n.useState)(!1),j=Object(p.a)(x,2),E=j[0],_=j[1],S=L(),C=S.setSelectedChat,F=S.user,N=S.notification,G=S.setNotification,A=S.chats,I=S.setChats,T=Object(w.a)(),z=Object(V.a)(),R=z.isOpen,B=z.onOpen,D=z.onClose,W=Object(h.useHistory)(),M=function(){var t=Object(f.a)(Gt().mark((function t(){var e,n,o;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return T({title:"Please Enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"}),t.abrupt("return");case 3:return t.prev=3,m(!0),e={headers:{Authorization:"Bearer ".concat(F.token)}},t.next=8,O.a.get("/api/user?search=".concat(r),e);case 8:n=t.sent,o=n.data,m(!1),l(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),T({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(f.a)(Gt().mark((function t(e){var r,n,o;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,_(!0),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(F.token)}},t.next=6,O.a.post("/api/chat",{userId:e},r);case 6:n=t.sent,o=n.data,A.find((function(t){return t._id===o._id}))||I([o].concat(Object(P.a)(A))),C(o),_(!1),D(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),T({title:"Error fetching the chat",description:t.t0.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(s.a,{d:"flex",justifyContent:"space-between",alignItems:"center",bg:"#e6e6ff",w:"100%",p:"5px 10px 5px 10px",borderWidth:"5px",children:[Object(k.jsx)(q.a,{label:"Search Users to chat",hasArrow:!0,placement:"bottom-end",children:Object(k.jsxs)(d.a,{variant:"ghost",onClick:B,children:[Object(k.jsx)("i",{className:"fas fa-search"}),Object(k.jsx)(u.a,{d:{base:"none",md:"flex"},px:4,children:"Search User"})]})}),Object(k.jsx)(u.a,{fontSize:"2xl",fontFamily:"Work sans",children:"Talky"}),Object(k.jsxs)("div",{children:[Object(k.jsxs)(Lt.a,{children:[Object(k.jsxs)(Lt.b,{p:1,children:[Object(k.jsx)(Nt.a,{count:N.length,effect:Ft.Effect.SCALE}),Object(k.jsx)(St.a,{fontSize:"2xl",m:1})]}),Object(k.jsxs)(Lt.e,{pl:2,children:[!N.length&&"No New Messages",N.map((function(t){return Object(k.jsx)(Lt.d,{onClick:function(){C(t.chat),G(N.filter((function(e){return e!==t})))},children:t.chat.isGroupChat?"New Message in ".concat(t.chat.chatName):"New Message from ".concat(Y(F,t.chat.users))},t._id)}))]})]}),Object(k.jsxs)(Lt.a,{children:[Object(k.jsx)(Lt.b,{as:d.a,bg:"white",rightIcon:Object(k.jsx)(Ct.a,{}),children:Object(k.jsx)(U.a,{size:"sm",cursor:"pointer",name:F.name,src:F.pic})}),Object(k.jsxs)(Lt.e,{children:[Object(k.jsxs)(H,{user:F,children:[Object(k.jsx)(Lt.d,{children:"My Profile"})," "]}),Object(k.jsx)(Lt.c,{}),Object(k.jsx)(Lt.d,{onClick:function(){F&&wt.emit("update_user_status",{userId:F._id,status:"offline"}),localStorage.removeItem("userInfo"),document.cookie="access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",W.push("/")},children:"Logout"})]})]})]})]}),Object(k.jsxs)(_t.a,{placement:"left",onClose:D,isOpen:R,children:[Object(k.jsx)(J.h,{}),Object(k.jsxs)(_t.b,{children:[Object(k.jsx)(J.g,{borderBottomWidth:"1px",children:"Search Users"}),Object(k.jsxs)(J.b,{children:[Object(k.jsxs)(s.a,{d:"flex",pb:2,children:[Object(k.jsx)(v.a,{placeholder:"Search by name or email",mr:2,value:r,onChange:function(t){return o(t.target.value)}}),Object(k.jsx)(d.a,{onClick:M,children:"Go"})]}),g?Object(k.jsx)(xt,{}):null===c||void 0===c?void 0:c.map((function(t){return Object(k.jsx)(st,{user:t,handleFunction:function(){return $(t._id)}},t._id)})),E&&Object(k.jsx)(ot.a,{ml:"auto",d:"flex"})]})]})]})]})},At=function(){var t=Object(n.useState)(!1),e=Object(p.a)(t,2),r=e[0],o=e[1],i=L().user;return Object(k.jsxs)("div",{style:{width:"100%"},children:[i&&Object(k.jsx)(Pt,{}),Object(k.jsxs)(s.a,{d:"flex",justifyContent:"space-between",w:"100%",h:"91.5vh",p:"10px",children:[i&&Object(k.jsx)(Et,{fetchAgain:r}),i&&Object(k.jsx)(yt,{fetchAgain:r,setFetchAgain:o})]})]})},It=r(218),Tt=r(123);function zt(){zt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",d="completed",y={};function b(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var x=Object.getPrototypeOf,j=x&&x(x(F([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=b.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Rt(){var t=Object(It.useLocation)().state,e=t.chatId,r=t.userId,n=t.username,o=(t.chat,t.voice),i=e||"12345",a=r||"hellp",c=n||"hellp";console.log();var s=function(){var t=Object(f.a)(zt().mark((function t(e){var r;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Tt.ZegoUIKitPrebuilt.generateKitTokenForTest(1733230220,"4183a0b873da38547b5da242b0786dbe",i,a,c),Tt.ZegoUIKitPrebuilt.create(r).joinRoom({container:e,scenario:{mode:Tt.ZegoUIKitPrebuilt.GroupCall},showScreenSharingButton:!1,turnOnCameraWhenJoining:!o,showMyCameraToggleButton:!o,showAudioVideoSettingsButton:!o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"myCallContainer",ref:s,style:{width:"100vw",height:"100vh"}})}var Bt=function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(h.Route,{path:"/",component:G,exact:!0}),Object(k.jsx)(h.Route,{path:"/chats",component:At}),Object(k.jsx)(h.Route,{path:"/Room",component:Rt})]})},Dt=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,399)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;r(t),n(t),o(t),i(t),a(t)}))},Wt=r(386),Yt=r(75);i.a.render(Object(k.jsx)(Wt.a,{children:Object(k.jsx)(Yt.a,{children:Object(k.jsx)(_,{children:Object(k.jsx)(Bt,{})})})}),document.getElementById("root")),Dt()}},[[346,1,2]]]);
//# sourceMappingURL=main.d3ba4fa3.chunk.js.map